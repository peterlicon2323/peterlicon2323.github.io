<!--
<table class="table table-cv table-sm table-borderless table-responsive table-cv-map">
  {% assign skip_basics = 'image,profiles,location' | split: ',' %}
  {% for content in data[1] %}
    {%
      if (content[1] == "") or (skip_basics contains
      content[0])
    %}
      {% continue %}
    {% endif %}

    <tr>
      <td class="p-1 pr-2 font-weight-bold">
        <b>{{ content[0] | capitalize }}</b>
      </td>
      <td class="p-1 pl-2 font-weight-light text">
        {% if content[0] == 'url' %}
          <a href="{{ content[1] }}" target="_blank" rel="noopener noreferrer">{{ content[1] }}</a>
        {% elsif content[0] == 'email' %}
          <a href="mailto:{{ content[1] }}" target="_blank">{{ content[1] }}</a>
        {% elsif content[0] == 'phone' %}
          <a href="tel:{{ content[1] }}">{{ content[1] }}</a>
        {% else %}
          {{ content[1] }}
        {% endif %}
      </td>
    </tr>
  {% endfor %}
</table>
-->

<table class="table table-cv table-sm table-borderless table-responsive table-cv-map">
  {% comment %} Skip only empty fields {% endcomment %}
  {% for content in data[1] %}
    {% if content[1] == "" %}
      {% continue %}
    {% endif %}

    {% case content[0] %}
      {% case 'image' %}
        {% if content[1] != "" %}
          <tr>
            <td class="p-1 pr-2 font-weight-bold">
              <b>Photo</b>
            </td>
            <td class="p-1 pl-2">
              <img src="{{ content[1] }}" alt="Profile Photo" class="img-fluid rounded" style="max-width: 150px; max-height: 150px;">
            </td>
          </tr>
        {% endif %}
        {% break %}

      {% case 'location' %}
        <tr>
          <td class="p-1 pr-2 font-weight-bold">
            <b>Location</b>
          </td>
          <td class="p-1 pl-2 font-weight-light">
            {% if content[1].address %}{{ content[1].address }}, {% endif %}
            {% if content[1].city %}{{ content[1].city }}{% if content[1].region %}, {{ content[1].region }}{% endif %}{% if content[1].postalCode %} {{ content[1].postalCode }}{% endif %}, {% endif %}
            {{ content[1].countryCode }}
          </td>
        </tr>
        {% break %}

      {% case 'profiles' %}
        <tr>
          <td class="p-1 pr-2 font-weight-bold">
            <b>Social Profiles</b>
          </td>
          <td class="p-1 pl-2 font-weight-light">
            {% for profile in content[1] %}
              <div class="mb-1">
                <a href="{{ profile.url }}" target="_blank" rel="noopener noreferrer" class="text-decoration-none">
                  <i class="fab fa-{{ profile.network | downcase }} mr-1"></i>
                  {{ profile.network }}: {{ profile.username }}
                </a>
              </div>
            {% endfor %}
          </td>
        </tr>
        {% break %}

      {% case 'url' %}
        <tr>
          <td class="p-1 pr-2 font-weight-bold">
            <b>{{ content[0] | capitalize }}</b>
          </td>
          <td class="p-1 pl-2 font-weight-light">
            <a href="{{ content[1] }}" target="_blank" rel="noopener noreferrer">{{ content[1] }}</a>
          </td>
        </tr>
        {% break %}

      {% case 'email' %}
        <tr>
          <td class="p-1 pr-2 font-weight-bold">
            <b>{{ content[0] | capitalize }}</b>
          </td>
          <td class="p-1 pl-2 font-weight-light">
            <a href="mailto:{{ content[1] }}" target="_blank">{{ content[1] }}</a>
          </td>
        </tr>
        {% break %}

      {% case 'phone' %}
        <tr>
          <td class="p-1 pr-2 font-weight-bold">
            <b>{{ content[0] | capitalize }}</b>
          </td>
          <td class="p-1 pl-2 font-weight-light">
            <a href="tel:{{ content[1] }}">{{ content[1] }}</a>
          </td>
        </tr>
        {% break %}

      {% else %}
        <tr>
          <td class="p-1 pr-2 font-weight-bold">
            <b>{{ content[0] | capitalize }}</b>
          </td>
          <td class="p-1 pl-2 font-weight-light">
            {{ content[1] }}
          </td>
        </tr>
    {% endcase %}
  {% endfor %}
</table>
